(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc9e9774"],{"0156":function(t,e,i){"use strict";var a=i("adbb"),s=i.n(a);s.a},"0160":function(t,e,i){},3530:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i("Loader",{attrs:{text:"Загружаем данные..."}}):i("v-row",[i("v-col",{attrs:{cols:"7"}},[i("v-card",[i("v-card-title",[t._v("Список пользователей")]),i("v-data-table",{attrs:{headers:t.usersTableHeaders,items:t.usersTableItems,loading:t.loadingTable,"loading-text":"Получаем список пользователей...","item-key":t.usersTableItems.email,"hide-default-footer":""},scopedSlots:t._u([{key:"header.avatar",fn:function(e){var a=e.on;return[i("v-icon",t._g({},a),[t._v("mdi-account")])]}},{key:"item.avatar",fn:function(e){var a=e.item;return[a.avatar?i("v-avatar",{attrs:{tile:"",size:"40",color:"primary",id:"user__avatar"}},[i("v-img",{attrs:{src:a.avatar}})],1):i("v-avatar",{staticClass:"white--text",attrs:{tile:"",size:"40",color:"primary",id:"user__avatar"}},[t._v(" "+t._s(a.name[0].toUpperCase())+" ")])]}},{key:"item.admin",fn:function(e){var a=e.item;return[a.admin?i("v-chip",{staticClass:"red lighten-4 red--text mr-2 font-weight-bold",attrs:{small:"",label:""}},[t._v("Администратор")]):t._e(),i("v-chip",{staticClass:"green lighten-4 green--text mr-2 font-weight-bold",attrs:{small:"",label:""}},[t._v("Пользователь")]),i("v-menu",{attrs:{transition:"slide-x-transition","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-chip",t._g({staticClass:"font-weight-bold subtitle-1 grey lighten-4",attrs:{small:"",label:""}},a),[i("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1)]}}],null,!0)},[i("v-list",{attrs:{dense:""}},[i("v-list-item",{staticClass:"grey lighten-3",attrs:{disabled:"",link:""},on:{click:function(e){return t.toggleRules(a,"standart")}}},[i("v-chip",{staticClass:"green lighten-2",attrs:{label:"",small:""}}),i("v-list-item",{staticClass:"body-2"},[i("span",{staticClass:"grey--text"},[t._v("Пользователь")])])],1),i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.toggleRules(a,"admin")}}},[i("v-chip",{staticClass:"red",attrs:{label:"",small:""}}),i("v-list-item",{staticClass:"body-2"},[t._v("Администратор")])],1)],1)],1)]}},{key:"item.groups",fn:function(e){var a=e.item;return[a.groups?i("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-btn",t._g({staticClass:"font-weight-bold",attrs:{disabled:"",outlined:"",small:"",color:"primary"}},s),[t._v(t._s(Object.keys(a.groups).length))])]}}],null,!0)},[i("span",[t._v("Открыть список")])]):i("v-btn",{staticClass:"font-weight-bold",attrs:{disabled:"",outlined:"",small:"",color:"primary"}},[t._v("0")])]}}])})],1)],1),i("v-col",{attrs:{cols:"5"}},[i("v-card",[i("v-card-title",[t._v("Последние обновления")]),i("v-card-text",{staticClass:"pl-0"},[i("AdminTimeline")],1)],1)],1)],1)},s=[],n=(i("d81d"),i("b0c0"),i("96cf"),i("1da1")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loading?i("div",{staticClass:"d-flex justify-center align-center",staticStyle:{"min-height":"150px"},attrs:{width:"100%"}},[i("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):i("v-timeline",{attrs:{dense:""}},[t._l(t.logList,(function(e){return i("v-timeline-item",{key:e.version,attrs:{small:"",color:e.color}},[i("v-card",{staticClass:"elevation-2"},[i("v-card-title",{staticClass:"d-flex justify-space-between"},[i("div",{staticClass:"ma-0 pa-0"},[i("v-tooltip",{attrs:{small:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[i("v-btn",t._g({staticClass:"font-weight-bold white--text",attrs:{label:"",small:"",color:e.color},on:{click:function(i){return t.showMore(e)}}},s),[t._v("v"+t._s(e.version))])]}}],null,!0)},[i("span",[t._v("Подробнее")])]),i("span",{staticClass:"body-2 ml-2",class:e.titleClass},[t._v(t._s(e.title))])],1),i("span",{staticClass:"overline font-weight-bold grey--text"},[t._v(t._s(e.date))])])],1)],1)})),i("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline white--text d-flex align-center justify-space-between elevation-2",class:t.item.color},[i("span",[t._v("v"+t._s(t.item.version))]),i("v-btn",{attrs:{icon:""}},[i("v-icon",{attrs:{color:"white"},on:{click:function(e){t.dialog=!1}}},[t._v("mdi-close")])],1)],1),i("v-card-text",{staticClass:"mt-2"},[i("v-list",{attrs:{dense:""}},t._l(t.item.logs,(function(e){return i("v-list-item",{key:e,staticClass:"caption text-uppercase"},[i("span",[i("span",{staticClass:"body-1"},[t._v("•")]),t._v(" "+t._s(e)+" ")])])})),1)],1)],1)],1)],2)},r=[],o=(i("b64b"),i("5530")),c={"1.0.2":{title:"Работа с ошибками и админ-панелью",titleClass:"font-weight-bold",color:"red",date:"26.09.20",logs:["Оптимизация кода","Исправлены баги при установке пакетов (npm i)","В админ-панель добавлен блок с последними обновлениями","В списке групп и базовых линий заменен текст кнопки сос списком облигаций, входящих в группу","Исправление мелких багов","На странице авторизации и регистрации реализовано отображение ошибок","Исправлена ошибка «Highchart error #15»","Отсутствие групп у пользователя заменено на 0, вместо красного крестика"]}},d={data:function(){return{logList:[],loading:!0,dialog:!1,item:{}}},mounted:function(){this.logList=Object.keys(c).map((function(t){return Object(o["a"])(Object(o["a"])({},c[t]),{},{version:t})})),this.loading=!1},methods:{showMore:function(t){this.item=t,this.dialog=!0}}},m=d,u=i("2877"),v=i("6544"),h=i.n(v),g=i("8336"),f=i("b0af"),p=i("99d9"),b=i("169a"),_=i("132d"),C=i("8860"),x=i("da13"),y=i("490a"),w=(i("0160"),i("58df")),k=i("7560"),V=Object(w["a"])(k["a"]).extend({name:"v-timeline",provide:function(){return{timeline:this}},props:{alignTop:Boolean,dense:Boolean,reverse:Boolean},computed:{classes:function(){return Object(o["a"])({"v-timeline--align-top":this.alignTop,"v-timeline--dense":this.dense,"v-timeline--reverse":this.reverse},this.themeClasses)}},render:function(t){return t("div",{staticClass:"v-timeline",class:this.classes},this.$slots.default)}}),T=(i("c96a"),i("9d26")),I=i("a9ad"),$=Object(w["a"])(I["a"],k["a"]),j=$.extend().extend({name:"v-timeline-item",inject:["timeline"],props:{color:{type:String,default:"primary"},fillDot:Boolean,hideDot:Boolean,icon:String,iconColor:String,large:Boolean,left:Boolean,right:Boolean,small:Boolean},computed:{hasIcon:function(){return!!this.icon||!!this.$slots.icon}},methods:{genBody:function(){return this.$createElement("div",{staticClass:"v-timeline-item__body"},this.$slots.default)},genIcon:function(){return this.$slots.icon?this.$slots.icon:this.$createElement(T["a"],{props:{color:this.iconColor,dark:!this.theme.isDark,small:this.small}},this.icon)},genInnerDot:function(){var t=this.setBackgroundColor(this.color);return this.$createElement("div",Object(o["a"])({staticClass:"v-timeline-item__inner-dot"},t),[this.hasIcon&&this.genIcon()])},genDot:function(){return this.$createElement("div",{staticClass:"v-timeline-item__dot",class:{"v-timeline-item__dot--small":this.small,"v-timeline-item__dot--large":this.large}},[this.genInnerDot()])},genDivider:function(){var t=[];return this.hideDot||t.push(this.genDot()),this.$createElement("div",{staticClass:"v-timeline-item__divider"},t)},genOpposite:function(){return this.$createElement("div",{staticClass:"v-timeline-item__opposite"},this.$slots.opposite)}},render:function(t){var e=[this.genBody(),this.genDivider()];return this.$slots.opposite&&e.push(this.genOpposite()),t("div",{staticClass:"v-timeline-item",class:Object(o["a"])({"v-timeline-item--fill-dot":this.fillDot,"v-timeline-item--before":this.timeline.reverse?this.right:this.left,"v-timeline-item--after":this.timeline.reverse?this.left:this.right},this.themeClasses)},e)}}),O=i("3a2f"),B=Object(u["a"])(m,l,r,!1,null,null,null),D=B.exports;h()(B,{VBtn:g["a"],VCard:f["a"],VCardText:p["b"],VCardTitle:p["c"],VDialog:b["a"],VIcon:_["a"],VList:C["a"],VListItem:x["a"],VProgressCircular:y["a"],VTimeline:V,VTimelineItem:j,VTooltip:O["a"]});var L=i("555f"),R={data:function(){return{usersTableHeaders:[{text:"",value:"avatar",sortable:!1,width:"50px",align:"center"},{text:"Имя",value:"name"},{text:"Email",value:"email"},{text:"Права",value:"admin"},{text:"Кол-во групп",value:"groups",align:"center"}],usersTableItems:[],loading:!0,loadingTable:!1,userRulesStandart:!0,userRulesAdmin:!1}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchUserList");case 2:i=e.sent,i.map((function(e){t.usersTableItems.push({avatar:e.info.avatar,name:e.info.name,email:e.info.email,admin:e.info.isAdmin,id:e.id,groups:e.groups})})),t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()},methods:{toggleRules:function(t,e){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i.loadingTable=!0,a.next=3,i.$store.dispatch("getUserRules",{item:t,rules:e});case 3:return i.usersTableItems=[],a.next=6,i.$store.dispatch("fetchUserList");case 6:s=a.sent,s.map((function(t){i.usersTableItems.push({avatar:t.info.avatar,name:t.info.name,email:t.info.email,admin:t.info.isAdmin,id:t.id})})),i.loadingTable=!1;case 9:case"end":return a.stop()}}),a)})))()}},computed:{},components:{Loader:L["a"],AdminTimeline:D}},E=R,S=(i("0156"),i("8212")),A=i("cc20"),U=i("62ad"),z=i("8fea"),H=i("adda"),M=i("e449"),J=i("0fd9"),P=Object(u["a"])(E,a,s,!1,null,null,null);e["default"]=P.exports;h()(P,{VAvatar:S["a"],VBtn:g["a"],VCard:f["a"],VCardText:p["b"],VCardTitle:p["c"],VChip:A["a"],VCol:U["a"],VDataTable:z["a"],VIcon:_["a"],VImg:H["a"],VList:C["a"],VListItem:x["a"],VMenu:M["a"],VRow:J["a"],VTooltip:O["a"]})},adbb:function(t,e,i){}}]);
//# sourceMappingURL=chunk-cc9e9774.dc0a41d3.js.map