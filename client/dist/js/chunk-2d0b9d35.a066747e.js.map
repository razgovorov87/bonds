{"version":3,"sources":["webpack:///./src/views/Admin.vue?76c9","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?4e91","webpack:///./src/views/Admin.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","usersTableHeaders","usersTableItems","loadingTable","email","scopedSlots","_u","key","fn","ref","on","_g","item","avatar","staticClass","_s","name","toUpperCase","_e","$event","toggleRules","staticRenderFns","user","info","admin","isAdmin","id","component","VAvatar","VCard","VCardTitle","VChip","VCol","VDataTable","VIcon","VImg","VList","VListItem","VMenu","VRow"],"mappings":"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","file":"js/chunk-2d0b9d35.a066747e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loading)?_c('Loader',{attrs:{\"text\":\"Загружаем данные...\"}}):_c('v-row',[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Список пользователей\")]),_c('v-data-table',{attrs:{\"headers\":_vm.usersTableHeaders,\"items\":_vm.usersTableItems,\"loading\":_vm.loadingTable,\"loading-text\":\"Получаем список пользователей...\",\"item-key\":_vm.usersTableItems.email,\"hide-default-footer\":\"\"},scopedSlots:_vm._u([{key:\"header.avatar\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\"mdi-account\")])]}},{key:\"item.avatar\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.avatar)?_c('v-avatar',{attrs:{\"size\":\"40\",\"color\":\"primary\"}},[_c('v-img',{attrs:{\"src\":item.avatar}})],1):_c('v-avatar',{staticClass:\"white--text\",attrs:{\"size\":\"40\",\"color\":\"primary\"}},[_vm._v(\" \"+_vm._s(item.name[0].toUpperCase())+\" \")])]}},{key:\"item.admin\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.admin)?_c('v-chip',{staticClass:\"red lighten-4 red--text mr-2 font-weight-bold\",attrs:{\"small\":\"\",\"label\":\"\"}},[_vm._v(\"Администратор\")]):_vm._e(),_c('v-chip',{staticClass:\"green lighten-4 green--text mr-2 font-weight-bold\",attrs:{\"small\":\"\",\"label\":\"\"}},[_vm._v(\"Пользователь\")]),_c('v-menu',{attrs:{\"transition\":\"slide-x-transition\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-chip',_vm._g({staticClass:\"font-weight-bold subtitle-1 grey lighten-4\",attrs:{\"small\":\"\",\"label\":\"\"}},on),[_vm._v(\"+\")])]}}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{staticClass:\"grey lighten-3\",attrs:{\"disabled\":\"\",\"link\":\"\"},on:{\"click\":function($event){return _vm.toggleRules(item, 'standart')}}},[_c('v-chip',{staticClass:\"green lighten-2\",attrs:{\"label\":\"\",\"small\":\"\"}}),_c('v-list-item',{staticClass:\"body-2\"},[_c('span',{staticClass:\"grey--text\"},[_vm._v(\"Пользователь\")])])],1),_c('v-list-item',{attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.toggleRules(item, 'admin')}}},[_c('v-chip',{staticClass:\"red\",attrs:{\"label\":\"\",\"small\":\"\"}}),_c('v-list-item',{staticClass:\"body-2\"},[_vm._v(\"Администратор\")])],1)],1)],1)]}}])})],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-card')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n    <Loader v-if=\"loading\" text=\"Загружаем данные...\" />\r\n    <v-row v-else>\r\n        <v-col cols=\"8\">\r\n            <v-card>\r\n                <v-card-title>Список пользователей</v-card-title>\r\n                <v-data-table :headers=\"usersTableHeaders\" :items=\"usersTableItems\" :loading=\"loadingTable\" loading-text=\"Получаем список пользователей...\" :item-key=\"usersTableItems.email\" hide-default-footer>\r\n\r\n                    <template v-slot:header.avatar=\"{ on }\">\r\n                        <v-icon v-on=\"on\">mdi-account</v-icon>\r\n                    </template>\r\n\r\n                    <template v-slot:item.avatar=\"{ item }\">\r\n                        <v-avatar v-if=\"item.avatar\" size=\"40\" color=\"primary\">\r\n                            <v-img :src=\"item.avatar\"></v-img>\r\n                        </v-avatar>\r\n                        <v-avatar v-else class=\"white--text\" size=\"40\" color=\"primary\">\r\n                           {{item.name[0].toUpperCase()}}\r\n                        </v-avatar>\r\n                    </template>\r\n\r\n                    <template v-slot:item.admin=\"{ item }\">\r\n                        <v-chip v-if=\"item.admin\" small label class=\"red lighten-4 red--text mr-2 font-weight-bold\">Администратор</v-chip>\r\n                        <v-chip small label class=\"green lighten-4 green--text mr-2 font-weight-bold\">Пользователь</v-chip>\r\n                        <v-menu\r\n                            transition=\"slide-x-transition\"\r\n                            :close-on-content-click=\"false\"\r\n                        >\r\n                            <template v-slot:activator=\"{ on }\">\r\n                                <v-chip small label class=\"font-weight-bold subtitle-1 grey lighten-4\" v-on=\"on\">+</v-chip>\r\n                            </template>\r\n                            <v-list dense>\r\n                                <v-list-item disabled link class=\"grey lighten-3\" @click=\"toggleRules(item, 'standart')\">\r\n                                    <v-chip label small class=\"green lighten-2\"></v-chip>\r\n                                    <v-list-item class=\"body-2\"><span class=\"grey--text\">Пользователь</span></v-list-item>\r\n                                </v-list-item>\r\n                                <v-list-item link @click=\"toggleRules(item, 'admin')\">\r\n                                    <v-chip label small class=\"red\"></v-chip>\r\n                                    <v-list-item class=\"body-2\">Администратор</v-list-item>\r\n                                </v-list-item>\r\n                            </v-list>\r\n                        </v-menu>\r\n                    </template>\r\n\r\n                </v-data-table>\r\n            </v-card>\r\n        </v-col>\r\n\r\n        <v-col cols=\"4\">\r\n            <v-card>\r\n            </v-card>\r\n        </v-col>\r\n    </v-row>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '@/components/Loader'\r\nexport default {\r\n    data: () => ({\r\n        usersTableHeaders: [\r\n            {text: '', value: 'avatar', sortable: false, width: '50px', align: 'center'},\r\n            {text: 'Имя', value: 'name'},\r\n            {text: 'Email', value: 'email'},\r\n            {text: 'Права', value: 'admin'}\r\n        ],\r\n        usersTableItems: [],\r\n        loading: true,\r\n        loadingTable: false,\r\n        userRulesStandart: true,\r\n        userRulesAdmin: false\r\n    }),\r\n    async created() {\r\n        const userList = await this.$store.dispatch('fetchUserList')\r\n        userList.map(user => {\r\n            this.usersTableItems.push({\r\n                avatar: user.info.avatar,\r\n                name: user.info.name,\r\n                email: user.info.email,\r\n                admin: user.info.isAdmin,\r\n                id: user.id\r\n            })\r\n        })\r\n\r\n        this.loading = false\r\n    },\r\n    methods: {\r\n        async toggleRules(item, rules) {\r\n            this.loadingTable = true\r\n            await this.$store.dispatch('getUserRules', {\r\n                item,\r\n                rules\r\n            })\r\n            this.usersTableItems = []\r\n            const userList = await this.$store.dispatch('fetchUserList')\r\n            userList.map(user => {\r\n                this.usersTableItems.push({\r\n                    avatar: user.info.avatar,\r\n                    name: user.info.name,\r\n                    email: user.info.email,\r\n                    admin: user.info.isAdmin,\r\n                    id: user.id\r\n                })\r\n            })\r\n            this.loadingTable = false\r\n        }\r\n    },\r\n    computed: {\r\n    },\r\n    components: {\r\n        Loader\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=bfc21782&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAvatar,VCard,VCardTitle,VChip,VCol,VDataTable,VIcon,VImg,VList,VListItem,VMenu,VRow})\n"],"sourceRoot":""}